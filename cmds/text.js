// Mappings
const bubblemap = {
    A: "\u24B6",
    B: "\u24B7",
    C: "\u24B8",
    D: "\u24B9",
    E: "\u24BA",
    F: "\u24BB",
    G: "\u24BC",
    H: "\u24BD",
    I: "\u24BE",
    J: "\u24BF",
    K: "\u24C0",
    L: "\u24C1",
    M: "\u24C2",
    N: "\u24C3",
    O: "\u24C4",
    P: "\u24C5",
    Q: "\u24C6",
    R: "\u24C7",
    S: "\u24C8",
    T: "\u24C9",
    U: "\u24CA",
    V: "\u24CB",
    W: "\u24CC",
    X: "\u24CD",
    Y: "\u24CE",
    Z: "\u24CF",

    a: "\u24D0",
    b: "\u24D1",
    c: "\u24D2",
    d: "\u24D3",
    e: "\u24D4",
    f: "\u24D5",
    g: "\u24D6",
    h: "\u24D7",
    i: "\u24D8",
    j: "\u24D9",
    k: "\u24DA",
    l: "\u24DB",
    m: "\u24DC",
    n: "\u24DD",
    o: "\u24DE",
    p: "\u24DF",
    q: "\u24E0",
    r: "\u24E1",
    s: "\u24E2",
    t: "\u24E3",
    u: "\u24E4",
    v: "\u24E5",
    w: "\u24E6",
    x: "\u24E7",
    y: "\u24E8",
    z: "\u24E9",

    "0": "\u24EA",
    "1": "\u2460",
    "2": "\u2461",
    "3": "\u2462",
    "4": "\u2463",
    "5": "\u2464",
    "6": "\u2465",
    "7": "\u2466",
    "8": "\u2467",
    "9": "\u2468",

    " ": "\u25EF"
};

const rDance = {
    "0": "<a:_:393623734092693524>",
    "1": "<a:_:393623734344220673>",
    "2": "<a:_:393623734180642837>",
    "3": "<a:_:393623734109601812>",
    "4": "<a:_:393623734147088384>",
    "5": "<a:_:393623733731983362>",
    "6": "<a:_:393623733962539019>",
    "7": "<a:_:393623734075785216>",
    "8": "<a:_:393623734155739136>",
    "9": "<a:_:393623734101213194>",
    a: "<a:_:393623734344351744>",
    b: "<a:_:393623734034104322>",
    c: "<a:_:393623734176448512>",
    d: "<a:_:393623734168190996>",
    e: "<a:_:393623733937373185>",
    f: "<a:_:393623734268985346>",
    g: "<a:_:393623734055075841>",
    h: "<a:_:393623734549741568>",
    i: "<a:_:393623734616981514>",
    j: "<a:_:393623734323249174>",
    k: "<a:_:393623734461792257>",
    l: "<a:_:393623734621306881>",
    m: "<a:_:393623734813982720>",
    n: "<a:_:393623734696542209>",
    o: "<a:_:393623735011246080>",
    p: "<a:_:393623734931554305>",
    q: "<a:_:393623735137206272>",
    r: "<a:_:393623735065903114>",
    s: "<a:_:393623735132749824>",
    t: "<a:_:393623735002988545>",
    u: "<a:_:393623735229218816>",
    v: "<a:_:393623735216898049>",
    w: "<a:_:393623735388602368>",
    x: "<a:_:393623735028154369>",
    y: "<a:_:393623735233675265>",
    z: "<a:_:393623735376150550>",
    "&": "<a:_:393623733761212427>",
    "@": "<a:_:393623734122053632>",
    $: "<a:_:393623734344351774>",
    "!": "<a:_:393623734377906176>"
};
const redDance = {
    "0": "<a:_:469268028908109824>",
    "1": "<a:_:469268028576759820>",
    "2": "<a:_:469268028534685707>",
    "3": "<a:_:469268029063299072>",
    "4": "<a:_:469268029121757234>",
    "5": "<a:_:469268029348249611>",
    "6": "<a:_:469268028966567946>",
    "7": "<a:_:469268029058842634>",
    "8": "<a:_:469268030006886410>",
    "9": "<a:_:469268028962635791>",
    a: "<a:_:469268029113368577>",
    b: "<a:_:469268029700702238>",
    c: "<a:_:469268029708959744>",
    d: "<a:_:469268029717479424>",
    e: "<a:_:469268029524541451>",
    f: "<a:_:469268030048698392>",
    g: "<a:_:469268030309007381>",
    h: "<a:_:469268030313070624>",
    i: "<a:_:469268030145167361>",
    j: "<a:_:469268030212538369>",
    k: "<a:_:469268030283710466>",
    l: "<a:_:469268030543626240>",
    m: "<a:_:469268030686494720>",
    n: "<a:_:469268030636032000>",
    o: "<a:_:469268031143542785>",
    p: "<a:_:469268030942347264>",
    q: "<a:_:469268030799740958>",
    r: "<a:_:469268031479087124>",
    s: "<a:_:469268031470698522>",
    t: "<a:_:469268031382749205>",
    u: "<a:_:469268031441207326>",
    v: "<a:_:469268031487475732>",
    w: "<a:_:469268031584075776>",
    x: "<a:_:469290974498258944>",
    y: "<a:_:469268031478956043>",
    z: "<a:_:469268031462440972>",
    "&": "<a:_:469268029365026816>",
    "@": "<a:_:469268029486661653>",
    $: "<a:_:469268029579198465>",
    "!": "<a:_:469268029985783810>",
    "?": "<a:_:469268030757535755>"
};
const fastDance = {
    "0": "<a:_:478301208290000897>",
    "1": "<a:_:478301208453447711>",
    "2": "<a:_:478301208717557791>",
    "3": "<a:_:478301208398921748>",
    "4": "<a:_:478301208696848394>",
    "5": "<a:_:478301208499716097>",
    "6": "<a:_:478301208470224916>",
    "7": "<a:_:478301208675745812>",
    "8": "<a:_:478301208365236226>",
    "9": "<a:_:478301209330057218>",
    a: "<a:_:478301209212616705>",
    b: "<a:_:478301209372131348>",
    c: "<a:_:478301209287983124>",
    d: "<a:_:478301209023873054>",
    e: "<a:_:478301209250365460>",
    f: "<a:_:478301209221005322>",
    g: "<a:_:478301209548161025>",
    h: "<a:_:478301208981929984>",
    i: "<a:_:478301209502023680>",
    j: "<a:_:478301210076774449>",
    k: "<a:_:478301209497960458>",
    l: "<a:_:478301209246040065>",
    m: "<a:_:478301209736904715>",
    n: "<a:_:478301209199902731>",
    o: "<a:_:478301209480921099>",
    p: "<a:_:478301209585778700>",
    q: "<a:_:478301207652335637>",
    r: "<a:_:478301209292177419>",
    s: "<a:_:478301209506086943>",
    t: "<a:_:478301209435045888>",
    u: "<a:_:478301209581584414>",
    v: "<a:_:478301209619464195>",
    w: "<a:_:478301209480921088>",
    x: "<a:_:478301209506217984>",
    y: "<a:_:478301209476726784>",
    z: "<a:_:478301209514475520>"
};
const logos = {
    "0": "<:_:415342593321205760>",
    "1": "<:_:415342593313079316>",
    "2": "<:_:415342593166016524>",
    "3": "<:_:465620480129499136>",
    "4": "<:_:415342593094844417>",
    "5": "<:_:415342593564737546>",
    "6": "<:_:415342593250164754>",
    "7": "<:_:415342593455554560>",
    "8": "<:_:415342593313079298>",
    "9": "<:_:415342593556086784>",
    a: "<:_:414655543458922506>",
    b: "<:_:414655554158329856>",
    c: "<:_:414655566636646400>",
    d: "<:_:414655751181565974>",
    e: "<:_:414655783116996608>",
    f: "<:_:414655803157381122>",
    g: "<:_:414655817493512200>",
    h: "<:_:414655829732753420>",
    i: "<:_:414656712478294026>",
    j: "<:_:414660430577795072>",
    k: "<:_:414660451822075904>",
    l: "<:_:414660470834724876>",
    m: "<:_:414660488970895360>",
    n: "<:_:414660515298541589>",
    o: "<:_:414660533531181057>",
    p: "<:_:414676183926571009>",
    q: "<:_:414666225600299018>",
    r: "<:_:414666249138601994>",
    s: "<:_:414666264930418698>",
    t: "<:_:414666283687346187>",
    u: "<:_:414666299407335424>",
    v: "<:_:414666317627523073>",
    w: "<:_:414666346144595978>",
    x: "<:_:414666361373982722>",
    y: "<:_:414666374179454976>",
    z: "<:_:414666386304925706>",
    "!": "<:_:466089799338426378>",
    ".": "<:_:466089797027627008>"
};

const riMap = {
    "0": ":zero:",
    "1": ":one:",
    "2": ":two:",
    "3": ":three:",
    "4": ":four:",
    "5": ":five:",
    "6": ":six:",
    "7": ":seven:",
    "8": ":eight:",
    "9": ":nine:",
    a: ":regional_indicator_a:",
    b: ":regional_indicator_b:",
    c: ":regional_indicator_c:",
    d: ":regional_indicator_d:",
    e: ":regional_indicator_e:",
    f: ":regional_indicator_f:",
    g: ":regional_indicator_g:",
    h: ":regional_indicator_h:",
    i: ":regional_indicator_i:",
    j: ":regional_indicator_j:",
    k: ":regional_indicator_k:",
    l: ":regional_indicator_l:",
    m: ":regional_indicator_m:",
    n: ":regional_indicator_n:",
    o: ":regional_indicator_o:",
    p: ":regional_indicator_p:",
    q: ":regional_indicator_q:",
    r: ":regional_indicator_r:",
    s: ":regional_indicator_s:",
    t: ":regional_indicator_t:",
    u: ":regional_indicator_u:",
    v: ":regional_indicator_v:",
    w: ":regional_indicator_w:",
    x: ":regional_indicator_x:",
    y: ":regional_indicator_y:",
    z: ":regional_indicator_z:",
    "#": ":hash:",
    "*": ":asterisk:"
};

// Commands

let dancesay = function(ctx, msg, args) {
    if (!args) {
        msg.channel.createMessage(`Please use with some text.`);
    } else {
        let isRed = args.startsWith("--red ");
        let isFast = args.startsWith("--fast ");
        args = args.startsWith("--red ")
            ? args.replace("--red ", "")
            : args.startsWith("--fast ")
            ? args.replace("--fast ", "")
            : args;

        let inp = ctx.utils.safeString(args).split("");
        let out = "";
        for (let x in inp) {
            if (inp[x].toLowerCase() == " " || inp[x].toLowerCase() == ":") {
                out += "<:_:393555375389016065>";
            } else {
                out +=
                    (isRed
                        ? redDance[inp[x].toLowerCase()]
                        : isFast
                        ? fastDance[inp[x].toLowerCase()]
                        : rDance[inp[x].toLowerCase()]) || inp[x].toLowerCase();
            }
        }

        msg.channel.createMessage(out.substring(0, 2000));
    }
};

let fullwidth = function(ctx, msg, args) {
    if (!args) {
        msg.channel.createMessage(`Please use with some text.`);
    } else {
        let inp = ctx.utils.safeString(args).split("");
        let out = inp
            .map(x =>
                x == " "
                    ? "\u3000"
                    : String.fromCodePoint(x.charCodeAt() + 0xfee0)
            )
            .join("");

        msg.channel.createMessage(out.substring(0, 2000));
    }
};

let bunnysay = function(ctx, msg, args) {
    let cside = "\uFF5C";
    let ctop = "\uFFE3";
    let cbot = "\uFF3F";

    let bun = "(\\__/) ||\n(\u2022\u3145\u2022) ||\n/ \u3000 \u3065||";

    if (!args) {
        let err = "Please use with some text.";
        let inp = ctx.utils.safeString(err).split("");
        let out = inp
            .map(x =>
                x == " "
                    ? "\u3000"
                    : String.fromCodePoint(x.charCodeAt() + 0xfee0)
            )
            .join("");

        let final = "";
        final += cside + ctop.repeat(err.length) + cside + "\n";
        final += cside + out + cside + "\n";
        final += cside + cbot.repeat(err.length) + cside + "\n";
        final += bun;

        msg.channel.createMessage(`\`\`\`${final.substring(0, 2000)}\`\`\``);
    } else {
        let inp = ctx.utils.safeString(args).split("");
        let out = inp
            .map(x =>
                x == " "
                    ? "\u3000"
                    : String.fromCodePoint(x.charCodeAt() + 0xfee0)
            )
            .join("");

        let final = "";
        final += cside + ctop.repeat(args.length) + cside + "\n";
        final += cside + out + cside + "\n";
        final += cside + cbot.repeat(args.length) + cside + "\n";
        final += bun;

        msg.channel.createMessage(`\`\`\`${final.substring(0, 2000)}\`\`\``);
    }
};

let bubblesay = function(ctx, msg, args) {
    if (!args) {
        msg.channel.createMessage(`Please use with some text.`);
    } else {
        let inp = ctx.utils.safeString(args).split("");
        let out = "";
        for (let x in inp) {
            out += bubblemap[inp[x]] || inp[x];
        }

        msg.channel.createMessage(out.substring(0, 2000));
    }
};

let logosay = function(ctx, msg, args) {
    if (!args) {
        msg.channel.createMessage(`Please use with some text.`);
    } else {
        let inp = ctx.utils.safeString(args).split("");
        let out = "";
        for (let x in inp) {
            if (inp[x].toLowerCase() == " " || inp[x].toLowerCase() == ":") {
                out += "<:_:393555375389016065>";
            } else {
                out += logos[inp[x].toLowerCase()] || inp[x].toLowerCase();
            }
        }

        msg.channel.createMessage(out.substring(0, 2000));
    }
};

let ri = function(ctx, msg, args) {
    if (!args) {
        msg.channel.createMessage(`Please use with some text.`);
    } else {
        let inp = ctx.utils.safeString(args).split("");
        let out = "";
        for (let x in inp) {
            if (inp[x].toLowerCase() == " " || inp[x].toLowerCase() == ":") {
                out += "<:_:393555375389016065>";
            } else {
                out += riMap[inp[x].toLowerCase()] || inp[x].toLowerCase();
            }
        }

        msg.channel.createMessage(out.substring(0, 2000));
    }
};

module.exports = [
    {
        name: "dancesay",
        desc:
            "hey its that dancing letter meme, put `--red` before text to make it red letters and `--fast` for fast red letters.",
        func: dancesay,
        group: "text",
        aliases: ["dsay", "ds"]
    },
    {
        name: "fullwidth",
        desc:
            "\uFF41\uFF45\uFF53\uFF54\uFF48\uFF45\uFF54\uFF49\uFF43\u3000\uFF54\uFF45\uFF58\uFF54",
        func: fullwidth,
        group: "text",
        aliases: ["fw"]
    },
    {
        name: "bunnysay",
        desc: "Make a bunny say things",
        func: bunnysay,
        group: "text",
        aliases: ["bunsay"]
    },
    {
        name: "bubblesay",
        desc: "Just don't let them pop",
        func: bubblesay,
        group: "text",
        aliases: ["bsay"]
    },
    {
        name: "logosay",
        desc: "Say things in logos",
        func: logosay,
        group: "text",
        aliases: ["logo"]
    },
    {
        name: "regional",
        desc: "Say things in regional indicators. For the lazy.",
        func: ri,
        group: "text",
        aliases: ["bigtext", "ri"]
    }
];
